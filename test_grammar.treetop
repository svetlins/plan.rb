grammar TestGrammar
    rule item_list
        item (' ' item)* {
            def value

                [elements[0].value] + elements[1].elements.map {|e| e.elements[1].value}
            end
        }
    end

    rule item
        (digit / letter) {
            def value
                value2
            end
        }
    end

    rule digit
        [0-9] {
            def value2
                text_value.to_i
            end
        }
    end

    rule letter
        [a-z] {
            def value2
                text_value.upcase
            end
        }
    end
end
